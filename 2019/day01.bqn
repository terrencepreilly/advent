# to find the fuel required for a module, take its mass, divide by three,
# round down, and subtract 2.
#
# For example:
#  - For a mass of 12, divide by 3 and round down to get 4, then subtract 2 to get 2.
#  - For a mass of 14, dividing by 3 and rounding down still yields 4, so the fuel
#    required is also 2.
#  - For a mass of 1969, the fuel required is 654.
#  - For a mass of 100756, the fuel required is 33583.


âŸ¨TestSuiteâŸ© â† â€¢Import "./Test.bqn"


# PROBLEM 1

# ğ•©: mass
CalculateFuel â† (-âŸœ2) âˆ˜ âŒŠ âˆ˜ Ã·âŸœ3
CalculateTotalFuel â† CalculateFuel +Â´

data â† â€¢ParseFloatÂ¨ â€¢FLines "input01.txt"
â€¢Out â€¢Repr CalculateTotalFuel data

# PROBLEM 2

H â‡ CalculateFuelâˆ˜âŠ‘
T â‡ (0 < H)â—¶âŠ¢â€¿(H âˆ¾ âŠ¢)
Cont â‡ 0 < Hâˆ˜âŠ‘
CalcTotal â‡ +Â´ (+Â´ âˆ˜ (1 â†“ âŒ½) âˆ˜ { Cont ğ•© ? ğ•Š T ğ•©; ğ•© })Â¨

â€¢Out â€¢Repr CalcTotal data

# TESTS

# ts â† TestSuite "Day01"
#
# { ğ•¤ â‹„ 2 = CalculateFuel 12 } ts._Test "1.1"
# { ğ•¤ â‹„ 2 = CalculateFuel 14 } ts._Test "1.2"
# { ğ•¤ â‹„ 654 = CalculateFuel 1969 } ts._Test "1.3"
# { ğ•¤ â‹„ 33583 = CalculateFuel 100756 } ts._Test "1.4"
#
# { ğ•¤ â‹„ 4 = CalcTotal âŸ¨12, 12âŸ© } ts._Test "2.e2"
# { ğ•¤ â‹„ 966 = CalcTotal âŸ¨1969âŸ© } ts._Test "2.1"
# { ğ•¤ â‹„ 50346 = CalcTotal âŸ¨100756âŸ© } ts._Test "2.2"
# { ğ•¤ â‹„ 957 = CalcTotal âŸ¨54, 1969 - 54âŸ© } ts._Test "2.e1"
#
# ts.Report @
